<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Admin Panel</title>
  <link rel="stylesheet" href="css/style-rtl.css" />
  <link rel="stylesheet" href="css/admin.css" />
  <link rel="icon" type="image/png" href="images/logo-placeholder.png" />
  <link rel="apple-touch-icon" href="images/logo-placeholder.png" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
  <script src="js/firebase-config.js"></script>
  <script src="js/data.js"></script>
  <script src="js/navbar.js"></script>
  <script src="js/admin.js"></script>
</head>
<body>
  <div class="admin-container">
    <div id="login-section" class="admin-section">
      <div class="login-form">
        <h2>Admin Login</h2>
        <form id="loginForm">
          <div class="form-group">
            <label for="username">Username:</label>
            <input type="text" id="username" required>
          </div>
          <div class="form-group">
            <label for="password">Password:</label>
            <input type="password" id="password" required>
          </div>
          <button type="submit" class="cta-button">Sign in</button>
        </form>
        <p class="login-note">Default credentials: <strong>admin / password123</strong></p>
      </div>
    </div>

    <div id="admin-dashboard" class="admin-section hidden">
      <div class="dashboard-header">
        <h2>Admin Dashboard</h2>
        <button id="logout-btn" class="logout-button">Sign out</button>
      </div>

      <div class="admin-tabs">
        <button class="tab-button active" data-tab="home-content">Home Content</button>
        <button class="tab-button" data-tab="page-headers-content">Page Headers</button>
        <button class="tab-button" data-tab="hero-slideshow">Hero Slides</button>
        <button class="tab-button" data-tab="about-content">About Page</button>
        <button class="tab-button" data-tab="categories">Categories</button>
        <button class="tab-button" data-tab="products">Products</button>
        <button class="tab-button" data-tab="achievements-content">Achievements</button>
        <button class="tab-button" data-tab="footer-content">Footer</button>
      </div>

      <div id="home-content" class="tab-content active">
        <h3>Edit Homepage Content</h3>
        <form id="home-content-form">
          <div class="form-group">
            <label>Website Name:</label>
            <input type="text" id="website-name-input" data-key="website-name" required>
            <small class="form-help">Displayed in the header and page titles.</small>
          </div>
          <div class="form-group">
            <label>Home Title:</label>
            <input type="text" id="hero-title-input" data-key="hero-title">
          </div>
          <div class="form-group">
            <label>Home Subtitle:</label>
            <textarea id="hero-subtitle-input" data-key="hero-subtitle"></textarea>
          </div>
          <div class="form-group">
            <label>Intro Title:</label>
            <input type="text" id="intro-title-input" data-key="intro-title">
          </div>
          <div class="form-group">
            <label>Intro Text:</label>
            <textarea id="intro-text-input" data-key="intro-text"></textarea>
          </div>

          <h4>Services</h4>
          <div class="form-group">
            <label>Services Section Title:</label>
            <input type="text" id="services-title-input" data-key="services-title">
          </div>
          <div class="form-row">
            <div class="form-group">
              <label>Service 1 Title</label>
              <input type="text" id="service-1-title-input" data-key="service-1-title">
              <label>Service 1 Description</label>
              <textarea id="service-1-desc-input" data-key="service-1-desc"></textarea>
            </div>
            <div class="form-group">
              <label>Service 2 Title</label>
              <input type="text" id="service-2-title-input" data-key="service-2-title">
              <label>Service 2 Description</label>
              <textarea id="service-2-desc-input" data-key="service-2-desc"></textarea>
            </div>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label>Service 3 Title</label>
              <input type="text" id="service-3-title-input" data-key="service-3-title">
              <label>Service 3 Description</label>
              <textarea id="service-3-desc-input" data-key="service-3-desc"></textarea>
            </div>
            <div class="form-group"></div>
          </div>
          <button type="submit" class="cta-button">Save Home Content</button>
        </form>
      </div>

      <div id="page-headers-content" class="tab-content">
        <h3>Page Headers</h3>
        <form id="page-headers-content-form">
          <div class="form-row">
            <div class="form-group">
              <label>About Title</label>
              <input type="text" id="page-about-title-input" data-key="page-about-title" placeholder="About Us">
              <label>About Subtitle</label>
              <textarea id="page-about-desc-input" data-key="page-about-desc" placeholder="Learn about our history and mission"></textarea>
            </div>
            <div class="form-group">
              <label>Products Title</label>
              <input type="text" id="page-products-title-input" data-key="page-products-title" placeholder="Products">
              <label>Products Subtitle</label>
              <textarea id="page-products-desc-input" data-key="page-products-desc" placeholder="Explore our product categories"></textarea>
            </div>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label>Achievements Title</label>
              <input type="text" id="page-achievements-title-input" data-key="page-achievements-title" placeholder="Achievements">
              <label>Achievements Subtitle</label>
              <textarea id="page-achievements-desc-input" data-key="page-achievements-desc" placeholder="Milestones and recognitions"></textarea>
            </div>
            <div class="form-group">
              <label>Admin Title</label>
              <input type="text" id="page-admin-title-input" data-key="page-admin-title" placeholder="Admin Panel">
              <label>Admin Subtitle</label>
              <textarea id="page-admin-desc-input" data-key="page-admin-desc" placeholder="Manage website content"></textarea>
            </div>
          </div>
          <button type="submit" class="cta-button">Save Page Headers</button>
        </form>
      </div>

      <div id="hero-slideshow" class="tab-content">
        <h3>Hero Slides</h3>
        <p class="admin-note">Only active slides will be displayed.</p>
        <div class="slides-management">
          <h4>Add new slide</h4>
          <form id="add-slide-form">
            <div class="form-group">
              <label>Image URL</label>
              <input type="text" id="slide-image" required placeholder="https://example.com/image.jpg">
            </div>
            <div class="form-group">
              <label>Title</label>
              <input type="text" id="slide-title" required placeholder="Slide title">
            </div>
            <div class="form-group">
              <label>Subtitle</label>
              <textarea id="slide-subtitle" required placeholder="Slide subtitle"></textarea>
            </div>
            <div class="form-group">
              <label><input type="checkbox" id="slide-active" checked> Active</label>
            </div>
            <button type="submit" class="cta-button">Add slide</button>
          </form>
          <div class="slides-list">
            <h4>Current slides</h4>
            <div id="slides-list-container"></div>
          </div>
        </div>
      </div>

      <div id="about-content" class="tab-content">
        <h3>About Page Content</h3>
        <form id="about-content-form">
          <div class="form-group">
            <label>History Title</label>
            <input type="text" id="about-history-title-input" data-key="about-history-title">
          </div>
          <div class="form-group">
            <label>History Text</label>
            <textarea id="about-history-text-input" data-key="about-history-text"></textarea>
          </div>
          <div class="form-group">
            <label>Mission Title</label>
            <input type="text" id="about-mission-title-input" data-key="about-mission-title">
          </div>
          <div class="form-group">
            <label>Mission Text</label>
            <textarea id="about-mission-text-input" data-key="about-mission-text"></textarea>
          </div>
          <div class="form-group">
            <label>Vision Title</label>
            <input type="text" id="about-vision-title-input" data-key="about-vision-title">
          </div>
          <div class="form-group">
            <label>Vision Text</label>
            <textarea id="about-vision-text-input" data-key="about-vision-text"></textarea>
          </div>
          <button type="submit" class="cta-button">Save About Content</button>
        </form>
      </div>

      <div id="categories" class="tab-content">
        <h3>Manage Categories</h3>
        <form id="add-category-form">
          <div class="form-group">
            <label>Category Name</label>
            <input type="text" id="category-name" required>
          </div>
          <div class="form-group">
            <label>Category Description</label>
            <textarea id="category-description" required></textarea>
          </div>
          <div class="form-group">
            <label>Category Image URL</label>
            <input type="text" id="category-image" placeholder="https://example.com/image.jpg">
          </div>
          <button type="submit" class="cta-button">Add Category</button>
        </form>
        <div class="categories-list">
          <h4>Current Categories</h4>
          <div id="categories-list-container"></div>
        </div>
      </div>

      <div id="products" class="tab-content">
        <h3>Manage Products</h3>
        <form id="add-product-form">
          <div class="form-group">
            <label>Select Category</label>
            <select id="product-category" required>
              <option value="">Select category</option>
            </select>
          </div>
          <div class="form-group">
            <label>Product Name</label>
            <input type="text" id="product-name" required>
          </div>
          <div class="form-group">
            <label>Product Description</label>
            <textarea id="product-description" required></textarea>
          </div>
          <div class="form-group">
            <label>Specifications</label>
            <textarea id="product-specs" placeholder="Size: ...\nMaterial: ...\nStandards: ..."></textarea>
          </div>
          <div class="form-group">
            <label>Price</label>
            <input type="text" id="product-price" placeholder="e.g. 500 or 500-2000">
          </div>
          <div class="form-group">
            <label>Product Image URL</label>
            <input type="text" id="product-image" placeholder="https://example.com/product.jpg">
          </div>
          <button type="submit" class="cta-button">Add Product</button>
        </form>
        <div class="products-list">
          <h4>Current Products</h4>
          <div id="products-list-container"></div>
        </div>
      </div>

      <div id="achievements-content" class="tab-content">
        <h3>Achievements Text</h3>
        <form id="achievements-content-form">
          <div class="form-group">
            <label>Projects Section Title</label>
            <input type="text" id="projects-title-input" data-key="projects-title">
          </div>
          <div class="form-group">
            <label>Certifications Section Title</label>
            <input type="text" id="certifications-title-input" data-key="certifications-title">
          </div>
          <div class="form-group">
            <label>Milestones Section Title</label>
            <input type="text" id="milestones-title-input" data-key="milestones-title">
          </div>
          <button type="submit" class="cta-button">Save Achievements Text</button>
        </form>
      </div>

      <div id="footer-content" class="tab-content">
        <h3>Footer</h3>
        <p class="admin-note">Edit information shown in the footer on all pages.</p>
        <form id="footer-content-form">
          <div class="form-row">
            <div class="form-group">
              <label>Company Name</label>
              <input type="text" id="footer-companyName-input" data-key="companyName" required>
            </div>
            <div class="form-group">
              <label>Company Description</label>
              <textarea id="footer-companyDescription-input" data-key="companyDescription" required></textarea>
            </div>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label>Email</label>
              <input type="email" id="footer-email-input" data-key="email" required>
            </div>
            <div class="form-group">
              <label>Phone</label>
              <input type="text" id="footer-phone-input" data-key="phone" required>
            </div>
          </div>
          <div class="form-group">
            <label>Address</label>
            <textarea id="footer-address-input" data-key="address" required></textarea>
          </div>
          <h4>Social</h4>
          <div class="form-row">
            <div class="form-group">
              <label>Facebook URL</label>
              <input type="url" id="footer-facebook-input" data-key="facebook" placeholder="https://facebook.com/yourpage">
            </div>
            <div class="form-group">
              <label>WhatsApp Number</label>
              <input type="text" id="footer-whatsapp-input" data-key="whatsapp" placeholder="+201234567890">
              <small class="form-help">Use international format (e.g., +201234567890)</small>
            </div>
          </div>
          <button type="submit" class="cta-button">Save Footer</button>
        </form>
      </div>

    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      if (window.dataManager && typeof updatePageTitles === 'function') {
        const content = window.dataManager.getContent();
        if (content['website-name']) updatePageTitles(content['website-name']);
      }
    });
  </script>
</body>
</html>
